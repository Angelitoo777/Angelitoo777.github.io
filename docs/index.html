<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Angel Oropeza — Portfolio</title>
<link rel="icon" href="./assets/images/avatar.png"/>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  :root{--accent:#7c3aed;--bg:#0b0b0d;--card:rgba(255,255,255,0.03);}
  body{background:var(--bg); color:#e6eef8; font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto;}
  .card{background:var(--card); border:1px solid rgba(255,255,255,0.04); backdrop-filter: blur(6px);}
  .reveal{ opacity:0; transform: translateY(12px); transition: all 600ms cubic-bezier(.2,.9,.2,1); }
  .reveal.visible{ opacity:1; transform: none; }
  .hover-zoom{ transition: transform 300ms ease, box-shadow 300ms ease; }
  .hover-zoom:hover{ transform: translateY(-6px) scale(1.01); box-shadow: 0 10px 30px rgba(2,6,23,0.6); }
  .skeleton{ background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.06), rgba(255,255,255,0.03)); animation: shimmer 1.2s infinite; }
  @keyframes shimmer{ 0%{background-position:-200px 0;} 100%{background-position:200px 0;} }
  .smooth-scroll{ scroll-behavior: smooth; }
</style>
</head>
<body class="smooth-scroll">
<div id="root"></div>

<script src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

<script type="text/babel">
const {useState, useEffect, useRef} = React;

function useReveal(){
  useEffect(()=>{
    const obs = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting) e.target.classList.add('visible');
      });
    }, {threshold:0.12});
    document.querySelectorAll('.reveal').forEach(el=>obs.observe(el));
    return ()=> obs.disconnect();
  },[]);
}

function App(){
  const [profile, setProfile] = useState(null);
  const [projects, setProjects] = useState([]);
  useReveal();

  useEffect(()=>{
    fetch('./data/profile.json').then(r=>r.json()).then(setProfile);
    fetch('./data/projects.json').then(r=>r.json()).then(setProjects);
  },[]);

  if(!profile) return <div className="p-8">Cargando...</div>;

  return (
    <main className="max-w-6xl mx-auto p-6">
      <nav className="flex justify-between items-center py-4">
        <a href="#" className="text-xl font-semibold">AO</a>
        <div className="space-x-4">
          <a href="#projects" className="text-sm underline">Proyectos</a>
          <a href="#contact" className="text-sm underline">Contacto</a>
        </div>
      </nav>

      <header className="flex flex-col md:flex-row items-start gap-6 mb-12 reveal" >
        <img src={profile.avatar} className="w-28 h-28 rounded-full border-2 border-neutral-800 object-cover" alt="avatar"/>
        <div>
          <h1 className="text-4xl font-bold">{profile.name}</h1>
          <p className="text-sm text-neutral-300 mt-2">{profile.title}</p>
          <p className="mt-4 max-w-2xl text-neutral-400">{profile.bio}</p>
          <div className="mt-4 flex gap-3">
            {profile.email && <a href={`mailto:${profile.email}`} className="text-sm underline">Contactar</a>}
            {profile.linkedin && <a href={profile.linkedin} target="_blank" rel="noreferrer" className="text-sm underline">LinkedIn</a>}
            {profile.github && <a href={profile.github} target="_blank" rel="noreferrer" className="text-sm underline">GitHub</a>}
          </div>
        </div>
      </header>

      <section id="projects" className="mb-12">
        <h2 className="text-2xl font-bold mb-6 reveal">Proyectos destacados</h2>
        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
          {projects.filter(p=>p.highlight).map(p=> <ProjectCard key={p.name} p={p} />)}
        </div>
      </section>

      <section className="mb-12 reveal">
        <h2 className="text-2xl font-bold mb-4">Otros proyectos</h2>
        <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
          {projects.filter(p=>!p.highlight).map(p=> <ProjectCard key={p.name} p={p} />)}
        </div>
      </section>

      <section id="contact" className="mt-12 reveal">
        <h2 className="text-2xl font-bold mb-4">Contacto</h2>
        <p className="text-neutral-400">Si quieres contactarme, envíame un correo a <a href={`mailto:${profile.email}`} className="underline">{profile.email}</a>.</p>
      </section>

      <footer className="mt-16 text-sm text-neutral-500 text-center">© 2025 {profile.name} — Portfolio</footer>
    </main>
  );
}

function ProjectCard({p}){
  return (
    <article className="card p-4 rounded-xl shadow-sm flex flex-col h-full reveal hover-zoom">
      {p.image ? <img src={p.image} alt={p.name} className="mb-3 rounded-md object-cover h-40 w-full" /> : <div className="h-40 w-full skeleton rounded-md"></div>}
      <h3 className="text-lg font-semibold">{p.name}</h3>
      <p className="text-sm text-neutral-400 mt-2 flex-grow">{p.description}</p>
      <div className="mt-3 flex flex-wrap gap-2">{(p.technologies||[]).map(t=> <span key={t} className="px-2 py-1 text-xs bg-neutral-900 text-neutral-300 border border-neutral-800 rounded-full">{t}</span>)}</div>
      <div className="mt-4 flex gap-2">
        <a href={p.repo} target="_blank" rel="noreferrer" className="px-3 py-1 bg-neutral-900 text-neutral-200 rounded-md text-sm">Ver Repo</a>
        {p.demo && <a href={p.demo} target="_blank" rel="noreferrer" className="px-3 py-1 bg-violet-600 text-white rounded-md text-sm">Demo</a>}
      </div>
    </article>
  )
}

ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
</script>
</body>
</html>
